function showMoreTaxs(e,element){e.stopPropagation();e.preventDefault();$(element).closest("li").find("a").hide();$(element).closest("li").find("span").show();}
(function($){"use strict";$(".ajax-form").submit(function(e){e.stopPropagation();e.preventDefault();let form=this;let actionLink=$(this).attr("action");if(actionLink==""){actionLink=window.location.href;}
let formData=new FormData(this);let btnText=$(form).find("button:submit").html();$(form).find("button:submit").prop('disabled',true);$(form).find("button:submit").html("Loading...");$.ajax({type:"POST",url:actionLink,data:formData,cache:false,contentType:false,processData:false,success:function(response){$(form).find("button:submit").html(btnText);$(form).find("button:submit").prop('disabled',false);let jsonresponse="";try{jsonresponse=JSON.parse(response);}catch(e){console.log("invalid json: ",response);}
if(typeof jsonresponse=="object"){if(jsonresponse["status"]==0){$(form).find(".alert").remove();jsonresponse["message"].forEach(function(error){if($(form).find(".form-errors").length>0){$(form).find(".form-errors").prepend('<div class="alert alert-danger"><button type="button" class="close" data-dismiss="alert">×</button>'+error+'</div>');$(form).find(".form-errors").show();}
else{$(form).prepend('<div class="alert alert-danger"><button type="button" class="close" data-dismiss="alert">×</button>'+error+'</div>');}});$('body, html').animate({scrollTop:$(form).offset().top-50},'slow');if(typeof(grecaptcha)!="undefined"){grecaptcha.reset();}}
else if(jsonresponse["status"]=="success"){$(form).find(".alert").remove();$(form).html('<div class="alert alert-success">'+jsonresponse["message"]+'</div>');}
else if(jsonresponse["status"]==1){window.location=jsonresponse["message"];}}}});});$(window).on("load",function(){$(".preloader").fadeOut(5000);$(".preloader").remove();});var $bgSection=$(".bg-section");var $bgPattern=$(".bg-pattern");var $colBg=$(".col-bg");$bgSection.each(function(){var bgSrc=$(this).children("img").attr("src");var bgUrl='url('+bgSrc+')';$(this).parent().css("backgroundImage",bgUrl);$(this).parent().addClass("bg-section");$(this).remove();});$bgPattern.each(function(){var bgSrc=$(this).children("img").attr("src");var bgUrl='url('+bgSrc+')';$(this).parent().css("backgroundImage",bgUrl);$(this).parent().addClass("bg-pattern");$(this).remove();});$colBg.each(function(){var bgSrc=$(this).children("img").attr("src");var bgUrl='url('+bgSrc+')';$(this).parent().css("backgroundImage",bgUrl);$(this).parent().addClass("col-bg");$(this).remove();});var $moduleIcon=$(".module-icon"),$moduleCancel=$(".module-cancel");$moduleIcon.on("click",function(e){$(this).parent().siblings().removeClass('module-active');$(this).parent(".module").toggleClass("module-active");e.stopPropagation();});$moduleCancel.on("click",function(e){$(".module").removeClass("module-active");e.stopPropagation();e.preventDefault();});$(".search-icon").on("click",function(){$(".wrapper").addClass("search-active");});$(document).on("click",function(e){if($(e.target).is(".nav-search,.search-warp,.search-warp input, .search-warp button")===false){$(".wrapper").removeClass("search-active");}});$(document).keyup(function(e){if(e.key==="Escape"&&$(".wrapper").hasClass("search-active")){$(".wrapper").removeClass("search-active")}});var $dropToggle=$("[data-toggle='dropdown']");$dropToggle.on("click",function(event){event.preventDefault();event.stopPropagation();$(this).parent().siblings().removeClass("show");$(this).parent().toggleClass("show");});var lastKnownScrollY=0;var currentScrollY=0;var ticking=false;var idOfHeader='header';var eleHeader=null;const classes={pinned:'header-pin',unpinned:'header-unpin',};function onScroll(){currentScrollY=window.pageYOffset;requestTick();}
function requestTick(){if(!ticking){requestAnimationFrame(update);}
ticking=true;}
function update(){if(currentScrollY<lastKnownScrollY){pin();}else if(currentScrollY>lastKnownScrollY){unpin();}
lastKnownScrollY=currentScrollY;ticking=false;}
function pin(){if(eleHeader.classList.contains(classes.unpinned)){eleHeader.classList.remove(classes.unpinned);eleHeader.classList.add(classes.pinned);}}
function unpin(){if(eleHeader.classList.contains(classes.pinned)||!eleHeader.classList.contains(classes.unpinned)){eleHeader.classList.remove(classes.pinned);eleHeader.classList.add(classes.unpinned);}}
window.onload=function(){eleHeader=document.getElementById(idOfHeader);document.addEventListener('scroll',onScroll,false);}
$(window).scroll(function(){if($('.header-transparent').length>0){if($(document).scrollTop()>70){$('.navbar-light').addClass('affix');}else{$('.navbar-light').removeClass('affix');}}});$(".carousel").each(function(){var $Carousel=$(this);$Carousel.owlCarousel({loop:$Carousel.data('loop'),autoplay:$Carousel.data("autoplay"),margin:$Carousel.data('space'),nav:$Carousel.data('nav'),dots:$Carousel.data('dots'),center:$Carousel.data('center'),dotsSpeed:$Carousel.data('speed'),navText:['<i class="icon-arrow-long-left" aria-hidden="true"></i>','<i class="icon-arrow-long-right" aria-hidden="true"></i>'],responsive:{0:{items:1,},600:{items:$Carousel.data('slide-rs'),},1000:{items:$Carousel.data('slide'),}}});});var $toggler=$(".navbar-toggler");$toggler.on("click",function(){$(this).toggleClass("toggler-active");});var aScroll=$('a[data-scroll="scrollTo"]');aScroll.on('click',function(event){var target=$($(this).attr('href'));if(target.length){event.preventDefault();$('html, body').animate({scrollTop:target.offset().top},1000);if($(this).hasClass("menu-item")){$(this).parent().addClass("active");$(this).parent().siblings().removeClass("active");}}});siteFooter();$(window).resize(function(){siteFooter();});function siteFooter(){var siteContent=$('#wrapperParallax');var siteFooter=$('#footerParallax');var siteFooterHeight=siteFooter.height();siteContent.css({"margin-bottom":siteFooterHeight});};$('.form-control').focus(function(){$(this).parents('.form-group').addClass('focused');});$('.form-control').blur(function(){var inputValue=$(this).val();if(inputValue==""){$(this).removeClass('filled');$(this).parents('.form-group').removeClass('focused');}else{$(this).addClass('filled');}});var $productGallery=$('.alpha-cards').isotope({itemSelector:'.alpha-card',percentPosition:true,layoutMode:'masonry',masonry:{columnWidth:'.alpha-card',}});$('.js-selector').select2({theme:"bootstrap4",placeholder:function(){$(this).data('placeholder');}});$('.filter-selector').each(function(){var $this=$(this);$this.select2({closeOnSelect:false,theme:"bootstrap4",});$this.on('select2:close',function(e){$this.val("").trigger("change");});$this.on('change',function(e){let id=$(this).val();if(id==""||!id){return;}
let inpName=$(this).attr("data-input-name");let text=$(this).find("option:selected").text();let container=$(this).closest("div.form-group").find("div.select2-result");if(container.find('input[data-select-id="'+id+'"]').length>0){return;}
$(this).find("option:selected").prop("disabled",true);drawSelect2Tags(id,text,inpName,container);});});$('.filter-selector').each(function(){let select=$(this);$(this).find('option:disabled').each(function(){let inpName=select.attr("data-input-name");let text=$(this).text();let id=$(this).val();let container=select.closest("div.form-group").find("div.select2-result");drawSelect2Tags(id,text,inpName,container);});});function drawSelect2Tags(id,text,inpName,container){let closeFunc="$(this).closest('div.form-group').find('select option[value="+id+"]').prop('disabled', false);$(this).closest('div.form-group').find('div.select2-result').find('[data-select-id="+id+"]').remove();";let append='<span data-select-id="'+id+'">'+text;append+='<i class="icon-close" onclick="'+closeFunc+'"></i>';append+='</span>';append+='<input type="hidden" data-select-id="'+id+'" name="'+inpName+'[]" value="'+id+'">';container.append(append);}
$('#reset').click(function(){$(':input','#filter-form').not(':button, :submit, :reset, :hidden').val('').removeAttr('checked').removeAttr('selected');$('.select2-result').empty();});var $sliderRange=$("#slider-range"),$sliderAmount=$("#amount");$sliderRange.slider({range:true,min:1,max:200,values:[$sliderAmount.attr("data-slider-start"),$sliderAmount.attr("data-slider-end")],slide:function(event,ui){$sliderAmount.val(ui.values[0]+" days"+" - "+ui.values[1]+" days");}});var $SearchBtn=$('.btn-advanced'),$SearchText=$('.btn-advanced span'),$searchBtnWarp=$('.advanced-search'),$searchWarp=$('.advanced-search-warp');$SearchBtn.on('click',function(e){e.preventDefault();$searchBtnWarp.toggleClass('search-open');$searchWarp.slideToggle("slow");$SearchText.text(function(i,text){return text==="Simple Search"?"Advanced Search":"Simple Search";})});$("#map-continents").CSSMap({"size":1450,"cities":true,"tooltips":"floating","responsive":"auto","tapOnce":true,"mapStyle":"custom"});}(jQuery));